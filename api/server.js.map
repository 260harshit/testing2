{"version":3,"sources":["../src/server.ts"],"sourcesContent":["import { RootResolver } from '#resolvers/RootResolver';\nimport { defaultDocument, defaultVariables } from '#root/defaultDocument';\nimport { RootTypedef } from '#utils/typeDefs';\nimport { ApolloServerPluginLandingPageLocalDefault } from 'apollo-server-core';\nimport { ApolloServer } from 'apollo-server-koa';\nimport Koa from 'koa';\n\nconst gqlServer = async (): Promise<Koa<Koa.DefaultState, Koa.DefaultContext>> => {\n  const app = new Koa();\n  const apolloServer = new ApolloServer({\n    resolvers: RootResolver,\n    typeDefs: RootTypedef,\n    introspection: true,\n    csrfPrevention: true,\n    cache: 'bounded',\n    plugins: [\n      ApolloServerPluginLandingPageLocalDefault({\n        footer: false,\n        document: defaultDocument,\n        variables: defaultVariables,\n        embed: true\n      })\n    ]\n  });\n\n  await apolloServer.start();\n  apolloServer.applyMiddleware({ app, path: '/', cors: true });\n\n  return app;\n};\n\nexport default gqlServer;\n"],"mappings":";;AAAA,SAAS,oBAAoB;AAC7B,SAAS,iBAAiB,wBAAwB;AAClD,SAAS,mBAAmB;AAC5B,SAAS,iDAAiD;AAC1D,SAAS,oBAAoB;AAC7B,OAAO,SAAS;AAEhB,MAAM,YAAY,mCAAgE;AAChF,QAAM,MAAM,IAAI,IAAI;AACpB,QAAM,eAAe,IAAI,aAAa;AAAA,IACpC,WAAW;AAAA,IACX,UAAU;AAAA,IACV,eAAe;AAAA,IACf,gBAAgB;AAAA,IAChB,OAAO;AAAA,IACP,SAAS;AAAA,MACP,0CAA0C;AAAA,QACxC,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,WAAW;AAAA,QACX,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAAA,EACF,CAAC;AAED,QAAM,aAAa,MAAM;AACzB,eAAa,gBAAgB,EAAE,KAAK,MAAM,KAAK,MAAM,KAAK,CAAC;AAE3D,SAAO;AACT,GAtBkB;AAwBlB,IAAO,iBAAQ;","names":[]}