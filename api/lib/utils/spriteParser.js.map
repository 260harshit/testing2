{"version":3,"sources":["../../../src/lib/utils/spriteParser.ts"],"sourcesContent":["import { toLowerSingleWordCase } from '#utils/util';\n\ninterface ParseSpeciesForSpriteParams {\n  backSprite?: boolean;\n\n  baseSpecies?: string;\n\n  pokemonName: string;\n  pokemonNumber: number;\n\n  shiny?: boolean;\n\n  specialBackSprite?: string;\n\n  specialShinyBackSprite?: string;\n\n  specialShinySprite?: string;\n\n  specialSprite?: string;\n}\n\nconst MegaSpriteRegex = /^(.+)-(x|y)$/g;\nconst SpriteUrls = {\n  baseUrl: 'https://play.pokemonshowdown.com/sprites/',\n  animatedShinyBackSprites: 'ani-back-shiny/',\n  animatedBackSprites: 'ani-back/',\n  animatedSprites: 'ani/',\n  animatedShinySprites: 'ani-shiny/'\n};\nconst Gen9SpriteUrls = {\n  animatedShinyBackSprites: 'gen5-back-shiny/',\n  animatedBackSprites: 'gen5-back/',\n  animatedSprites: 'gen5/',\n  animatedShinySprites: 'gen5-shiny/'\n};\n\nexport const parseSpeciesForSprite = ({\n  pokemonName,\n  pokemonNumber,\n  baseSpecies,\n  specialSprite,\n  specialShinySprite,\n  specialBackSprite,\n  specialShinyBackSprite,\n  shiny = false,\n  backSprite = false\n}: ParseSpeciesForSpriteParams) => {\n  if (shiny && backSprite && specialShinyBackSprite) return specialShinyBackSprite;\n  if (backSprite && specialBackSprite) return specialBackSprite;\n  if (shiny && specialShinySprite) return specialShinySprite;\n  if (specialSprite) return specialSprite;\n\n  if (!baseSpecies) {\n    pokemonName = toLowerSingleWordCase(pokemonName);\n  }\n\n  if (pokemonName.match(MegaSpriteRegex)) {\n    pokemonName = pokemonName.replace(MegaSpriteRegex, '$1$2');\n  }\n\n  // TODO: Remove when Showdown adds GIFs of Gen 9 PokÃ©mon\n  // Parse differently for generation 9 (Number 906 is sprigatito)\n  if (pokemonNumber >= 906) {\n    const pokemonPng = `${pokemonName}.png`;\n\n    if (shiny && backSprite) return SpriteUrls.baseUrl + Gen9SpriteUrls.animatedShinyBackSprites + pokemonPng;\n    if (backSprite) return SpriteUrls.baseUrl + Gen9SpriteUrls.animatedBackSprites + pokemonPng;\n    if (shiny) return SpriteUrls.baseUrl + Gen9SpriteUrls.animatedShinySprites + pokemonPng;\n    return SpriteUrls.baseUrl + Gen9SpriteUrls.animatedSprites + pokemonPng;\n  }\n\n  const pokemonGif = `${pokemonName}.gif`;\n\n  if (shiny && backSprite) return SpriteUrls.baseUrl + SpriteUrls.animatedShinyBackSprites + pokemonGif;\n  if (backSprite) return SpriteUrls.baseUrl + SpriteUrls.animatedBackSprites + pokemonGif;\n  if (shiny) return SpriteUrls.baseUrl + SpriteUrls.animatedShinySprites + pokemonGif;\n  return SpriteUrls.baseUrl + SpriteUrls.animatedSprites + pokemonGif;\n};\n"],"mappings":";;AAAA,SAAS,6BAA6B;AAqBtC,MAAM,kBAAkB;AACxB,MAAM,aAAa;AAAA,EACjB,SAAS;AAAA,EACT,0BAA0B;AAAA,EAC1B,qBAAqB;AAAA,EACrB,iBAAiB;AAAA,EACjB,sBAAsB;AACxB;AACA,MAAM,iBAAiB;AAAA,EACrB,0BAA0B;AAAA,EAC1B,qBAAqB;AAAA,EACrB,iBAAiB;AAAA,EACjB,sBAAsB;AACxB;AAEO,MAAM,wBAAwB,wBAAC;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,QAAQ;AAAA,EACR,aAAa;AACf,MAAmC;AACjC,MAAI,SAAS,cAAc;AAAwB,WAAO;AAC1D,MAAI,cAAc;AAAmB,WAAO;AAC5C,MAAI,SAAS;AAAoB,WAAO;AACxC,MAAI;AAAe,WAAO;AAE1B,MAAI,CAAC,aAAa;AAChB,kBAAc,sBAAsB,WAAW;AAAA,EACjD;AAEA,MAAI,YAAY,MAAM,eAAe,GAAG;AACtC,kBAAc,YAAY,QAAQ,iBAAiB,MAAM;AAAA,EAC3D;AAIA,MAAI,iBAAiB,KAAK;AACxB,UAAM,aAAa,GAAG;AAEtB,QAAI,SAAS;AAAY,aAAO,WAAW,UAAU,eAAe,2BAA2B;AAC/F,QAAI;AAAY,aAAO,WAAW,UAAU,eAAe,sBAAsB;AACjF,QAAI;AAAO,aAAO,WAAW,UAAU,eAAe,uBAAuB;AAC7E,WAAO,WAAW,UAAU,eAAe,kBAAkB;AAAA,EAC/D;AAEA,QAAM,aAAa,GAAG;AAEtB,MAAI,SAAS;AAAY,WAAO,WAAW,UAAU,WAAW,2BAA2B;AAC3F,MAAI;AAAY,WAAO,WAAW,UAAU,WAAW,sBAAsB;AAC7E,MAAI;AAAO,WAAO,WAAW,UAAU,WAAW,uBAAuB;AACzE,SAAO,WAAW,UAAU,WAAW,kBAAkB;AAC3D,GAzCqC;","names":[]}